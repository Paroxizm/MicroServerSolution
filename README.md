## Учебный проект OTUS на тему "Разработка высокопроизводительного In-Memory Key-Value кэша"

Цель проекта: разработать приложение для кеширования данных в памяти и доступа к ним по пользовательскому ключу

Результаты работы:

Разработано приложение кеширования и получения данных по ключу.

Приложение обрабатывает входящие подключения, выполняет команды на добавление,
получение или удаление значений по ключу.

Параметры настройки сервера:

| Параметр              | Описание                                                                                                                                                                  |
|-----------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **--address**         | адрес, прослушиваемый сервером (по умолчанию 127.0.0.1)                                                                                                                   |
| **--port**            | - порт, прослушиваемый сервером (по умолчанию 40567)                                                                                                                      |
| **--storage-clients** | - количество параллельных писателей в хранилище (по умолчанию 5)                                                                                                          |
| **--mcc**             | - максимальное количество одновременных подключений (по умолчанию 30)                                                                                                     |
| **--mcs**             | - максимальный размер данных в команде (по кмолчанию 4096 байт)                                                                                                           |
| **--otel**            | - адрес OTEL-endpoint для записи телеметрии в формате Grpc (по умолчанию http://localhost:4317). Если вместо адреса указано no или false - запись телеметрии отключается. |

| step                    | ok stats                                                     |
|-------------------------|--------------------------------------------------------------|
| name                    | global information                                           |
| request count           | all = 5000, ok = 5000, RPS = 500                             |
| latency (ms)            | min = 0.26, mean = 1310.81, max = 16511.85, StdDev = 2858.39 |
| latency percentile (ms) | p50 = 298.24, p75 = 1528.83, p95 = 8323.07, p99 = 15024.13   |

### Взаимодействие с клиентами

Взаимодействие с клиентами происходит по TCP-сокету. Клиент передаёт команду в виде строки,
содержащей (через пробел):

- команда (GET, SET, DELETE)
- ключ (строка без пробелов)

Дополнительно для команды SET:

- длина данных (для команды SET)
- данные
- TTL в секундах

Команда завершается символом перевода строки (0x0A)

На каждую команду сервер возвращает ответ:

- Для GET - данные или (nil) в случае отсутствия ключа в хранилище
- Для SET - OK
- Для DELETE - OK
- Для всех команд при возникновении ошибки возвращается строка, начинающаяся с -ERR и содержащая описание ошибки

### Скрипты для проверки работы приложения:

1. run-multiple-fast.ps1 - запуск сервера и N клиентов с задержкой между отправками пакетов клиентами 3 сек.

2. run-multiple-slow.ps1 - запуск сервера и 5 клиентов с задержкой между отправками пакетов клиентами 100 мсек.

3. run-single-slow.ps1 - запуск сервера и 1 клиента с задержкой между отправками пакетов клиентами 3 сек.

4. run-single-fast.ps1 - запуск сервера и 1 клиента с задержкой между отправками пакетов клиентами 100 мсек.

5. stop-all.ps1 - остановка сервера и клиентов

6. stop-clients.ps1 - остановка всех клиентов

7. stop-server.ps1 - остановка сервера

Сервер и клиенты можно запустить вручную.

Скрипты настроены на Debug-сборку под .NET 9.
